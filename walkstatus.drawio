<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36" version="29.2.7">
  <diagram name="第 1 页" id="NzwPTvQjl949kgfiURQ3">
    <mxGraphModel dx="-725" dy="560" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="aXUS9hrWFuO00hfPW_t6-1" parent="1" style="whiteSpace=wrap;html=1;strokeColor=none;fontSize=18;fontStyle=1;fillColor=#ffffff;" value="LZ_WCA_SenseWalkStatus.c 流程图" vertex="1">
          <mxGeometry height="40" width="360" x="2200" y="40" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-2" parent="1" style="whiteSpace=wrap;html=1;shape=terminator;fillColor=#d5e8d4;strokeColor=#82b366;" value="开始 WCA_SenseGetWalkStatus" vertex="1">
          <mxGeometry height="50" width="340" x="2200" y="100" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-3" parent="1" style="whiteSpace=wrap;html=1;shape=rhombus;fillColor=#fff2cc;strokeColor=#d6b656;" value="非行走？ !sense_isWalk" vertex="1">
          <mxGeometry height="70" width="340" x="2200" y="180" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-4" parent="1" style="whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="调用 DetectStartWalkByLaserPos(walkspeed)" vertex="1">
          <mxGeometry height="70" width="340" x="2200" y="270" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-5" parent="1" style="whiteSpace=wrap;html=1;shape=rhombus;fillColor=#fff2cc;strokeColor=#d6b656;" value="起步检测结果？ res==true" vertex="1">
          <mxGeometry height="70" width="340" x="2200" y="360" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-6" parent="1" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="设置 START_WALK；sense_isWalk=true；返回 bret" vertex="1">
          <mxGeometry height="70" width="340" x="2200" y="450" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-28" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="aXUS9hrWFuO00hfPW_t6-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-7" parent="1" style="whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="检测超距停止 WCA_DetectStopByWaistPos" vertex="1">
          <mxGeometry height="70" width="340" x="2200" y="540" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-29" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="aXUS9hrWFuO00hfPW_t6-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-8" parent="1" style="whiteSpace=wrap;html=1;shape=rhombus;fillColor=#fff2cc;strokeColor=#d6b656;" value="超距？ → TIMEOUT_STOP_WALK；返回" vertex="1">
          <mxGeometry height="70" width="340" x="2200" y="630" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-30" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="aXUS9hrWFuO00hfPW_t6-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-9" parent="1" style="whiteSpace=wrap;html=1;shape=rhombus;fillColor=#fff2cc;strokeColor=#d6b656;" value="FrontPos &gt;= emergencyStopArea？ → TIMEOUT_STOP_WALK；返回" vertex="1">
          <mxGeometry height="70" width="340" x="2200" y="720" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-31" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="aXUS9hrWFuO00hfPW_t6-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-10" parent="1" style="whiteSpace=wrap;html=1;shape=rhombus;fillColor=#fff2cc;strokeColor=#d6b656;" value="起步→持续？ START_WALK 且电机速度≥起步速度" vertex="1">
          <mxGeometry height="70" width="340" x="2200" y="810" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-11" parent="1" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="是→切换 CONT_WALK；返回" vertex="1">
          <mxGeometry height="70" width="340" x="2200" y="900" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-32" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" target="aXUS9hrWFuO00hfPW_t6-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-12" parent="1" style="whiteSpace=wrap;html=1;shape=rhombus;fillColor=#fff2cc;strokeColor=#d6b656;" value="非 START_WALK 且电机速度≤0.01？" vertex="1">
          <mxGeometry height="70" width="340" x="2200" y="990" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-33" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="aXUS9hrWFuO00hfPW_t6-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-13" parent="1" style="whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="是→切换 STOP_WALK；sense_isWalk=false；清空队列\nFrontPos/BodyShift/FrontSpeed/FrontSpeedAVG/FrontFootFrontPosSlope；返回" vertex="1">
          <mxGeometry height="90" width="340" x="2200" y="1080" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-14" parent="1" style="whiteSpace=wrap;html=1;shape=terminator;fillColor=#d5e8d4;strokeColor=#82b366;" value="否则：维持 bret；返回" vertex="1">
          <mxGeometry height="60" width="340" x="2200" y="1190" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-15" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" target="aXUS9hrWFuO00hfPW_t6-3" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-16" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" target="aXUS9hrWFuO00hfPW_t6-4" value="是">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-17" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" target="aXUS9hrWFuO00hfPW_t6-5" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-18" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;exitX=0.6;exitY=1;" target="aXUS9hrWFuO00hfPW_t6-7" value="否">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-19" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" target="aXUS9hrWFuO00hfPW_t6-12" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-34" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="aXUS9hrWFuO00hfPW_t6-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-20" parent="1" style="whiteSpace=wrap;html=1;shape=terminator;fillColor=#d5e8d4;strokeColor=#82b366;" value="开始 DetectStartWalkByLaserPos" vertex="1">
          <mxGeometry height="50" width="340" x="2650" y="180" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-35" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" target="aXUS9hrWFuO00hfPW_t6-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-21" parent="1" style="whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="取 nSize/前脚位置 frontpos" vertex="1">
          <mxGeometry height="70" width="340" x="2650" y="250" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-36" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="aXUS9hrWFuO00hfPW_t6-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-22" parent="1" style="whiteSpace=wrap;html=1;shape=rhombus;fillColor=#fff2cc;strokeColor=#d6b656;" value="walkspeed&gt;0.3 且 frontpos≤1000？\n是→返回 true" vertex="1">
          <mxGeometry height="70" width="340" x="2650" y="340" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-37" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="aXUS9hrWFuO00hfPW_t6-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-23" parent="1" style="whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="检查斜率队列长度\n不足 SLOPELENGTH → 返回 false" vertex="1">
          <mxGeometry height="70" width="340" x="2650" y="430" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-24" parent="1" style="whiteSpace=wrap;html=1;shape=rhombus;fillColor=#fff2cc;strokeColor=#d6b656;" value="读取 frontslope[i..i-4] 五个值\n全部 &gt; 5.0 ? 是→返回 true；否则 false" vertex="1">
          <mxGeometry height="90" width="340" x="2650" y="520" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-38" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="aXUS9hrWFuO00hfPW_t6-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-25" parent="1" style="whiteSpace=wrap;html=1;shape=terminator;fillColor=#d5e8d4;strokeColor=#82b366;" value="开始 DetectStopWalkByWaistPos" vertex="1">
          <mxGeometry height="50" width="340" x="3100" y="180" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-39" edge="1" parent="1" source="aXUS9hrWFuO00hfPW_t6-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" target="aXUS9hrWFuO00hfPW_t6-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-26" parent="1" style="whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="计算 BodyShift 区间平均\nFAf_GetRangeAvg(pFAf_BodyShift)" vertex="1">
          <mxGeometry height="70" width="340" x="3100" y="250" as="geometry" />
        </mxCell>
        <mxCell id="aXUS9hrWFuO00hfPW_t6-27" parent="1" style="whiteSpace=wrap;html=1;shape=rhombus;fillColor=#fff2cc;strokeColor=#d6b656;" value="avg 超过 FixedParas.laser_EmergencyStopArea？\n是→返回 true；否则 false" vertex="1">
          <mxGeometry height="70" width="340" x="3100" y="340" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
